{"ast":null,"code":"export default {\n  name: 'GreetGreet',\n  props: [\"email\", 'token'],\n\n  data() {\n    return {\n      data: []\n    };\n  },\n\n  methods: {\n    async carpark() {\n      let a = this;\n      await fetch('https://api.data.gov.sg/v1/transport/carpark-availability').then(function (response) {\n        // The response is a Response instance.\n        // You parse the data into a useable format using `.json()`\n        return response.json();\n      }).then(function (data) {\n        // `data` is the parsed version of the JSON returned from the above endpoint.\n        let carparkDataArray;\n        let timestamp; //console.log(data['items'][0],'data here');  \n\n        carparkDataArray = data['items'][0]['carpark_data'];\n        timestamp = data['items'][0]['timestamp'];\n        console.log(carparkDataArray);\n        console.log(timestamp, 'timestamp');\n\n        for (let element of carparkDataArray) {\n          let carparkData = {};\n          carparkData['number'] = element['carpark_number'];\n          carparkData['type'] = element['carpark_info'][0]['lot_type'];\n          carparkData['available'] = element['carpark_info'][0]['lots_available'];\n          carparkData['total'] = element['carpark_info'][0]['total_lots'];\n          carparkData['updated'] = element['update_datetime'];\n          a.data.push(carparkData); //console.log(carparkData,'DATA!!!!!')\n        }\n      });\n      console.log(a.data);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoCA,eAAe;AACbA,MAAI,EAAE,YADO;AAEbC,OAAK,EAAE,CAAC,OAAD,EAAS,OAAT,CAFM;;AAGbC,MAAI,GAAE;AACF,WAAO;AACHA,UAAI,EAAC;AADF,KAAP;AAGH,GAPY;;AAQbC,SAAO,EAAC;AACJ,UAAMC,OAAN,GAAe;AACZ,UAAIC,IAAI,IAAR;AACA,YAAMC,KAAK,CAAC,2DAAD,CAAL,CACFC,IADE,CACG,UAASC,QAAT,EAAmB;AACrB;AACA;AACA,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,OALE,EAKAF,IALA,CAKK,UAASL,IAAT,EAAe;AACnB;AACA,YAAIQ,gBAAJ;AACA,YAAIC,SAAJ,CAHmB,CAInB;;AACAD,wBAAe,GAAIR,IAAI,CAAC,OAAD,CAAJ,CAAc,CAAd,EAAiB,cAAjB,CAAnB;AACAS,iBAAQ,GAAIT,IAAI,CAAC,OAAD,CAAJ,CAAc,CAAd,EAAiB,WAAjB,CAAZ;AAEAU,eAAO,CAACC,GAAR,CAAYH,gBAAZ;AACAE,eAAO,CAACC,GAAR,CAAYF,SAAZ,EAAsB,WAAtB;;AAEA,aAAK,IAAIG,OAAT,IAAoBJ,gBAApB,EAAqC;AAEjC,cAAIK,WAAU,GAAI,EAAlB;AACAA,qBAAW,CAAC,QAAD,CAAX,GAAsBD,OAAO,CAAC,gBAAD,CAA7B;AACAC,qBAAW,CAAC,MAAD,CAAX,GAAoBD,OAAO,CAAC,cAAD,CAAP,CAAwB,CAAxB,EAA2B,UAA3B,CAApB;AACAC,qBAAW,CAAC,WAAD,CAAX,GAAyBD,OAAO,CAAC,cAAD,CAAP,CAAwB,CAAxB,EAA2B,gBAA3B,CAAzB;AACAC,qBAAW,CAAC,OAAD,CAAX,GAAqBD,OAAO,CAAC,cAAD,CAAP,CAAwB,CAAxB,EAA2B,YAA3B,CAArB;AACAC,qBAAW,CAAC,SAAD,CAAX,GAAuBD,OAAO,CAAC,iBAAD,CAA9B;AACAT,WAAC,CAACH,IAAF,CAAOc,IAAP,CAAYD,WAAZ,EARiC,CASjC;AAEJ;AAGH,OA9BE,CAAN;AA+BDH,aAAO,CAACC,GAAR,CAAYR,CAAC,CAACH,IAAd;AACF;;AAnCI;AARK,CAAf","names":["name","props","data","methods","carpark","a","fetch","then","response","json","carparkDataArray","timestamp","console","log","element","carparkData","push"],"sourceRoot":"","sources":["/Users/yvettewong/client/src/Greeting.vue"],"sourcesContent":["<template>\n  <div class=\"greet\">\n    <div v-if=\"email\">\n    <h3>\n        Welcome {{email}} \n    </h3>\n        your token is \n        <div class='token'>{{token}}</div>\n\n       <div>\n           <h5>Details:</h5>\n           First name:\n           Last name:\n           Email: {{email}}\n           Contact:\n\n           <button @click='carpark'>Carpark Availability</button>\n  </div>\n  <div class='container'>\n    <div class='row justify-content-center'>\n  <div class='col-3 m-1 bg-light' v-for='a in data' v-bind:key=\"a\">\n    Number: {{a['number']}} <br>\n    <p style='text-decoration:bold'>\n    Type: {{a['type']}} <br>\n    Available: {{a['available']}} <br>\n    Total: {{a['total']}} <br>\n    </p>\n    Last Updated: <br>{{a['updated']}}\n    \n      </div>\n      </div></div>\n    </div>\n    <h3 v-else>You are not logged in</h3>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'GreetGreet',\n  props: [\"email\",'token'],\n  data(){\n      return({\n          data:[]\n      })\n  },\n  methods:{\n      async carpark(){\n         let a = this\n         await fetch('https://api.data.gov.sg/v1/transport/carpark-availability')\n            .then(function(response) {\n                // The response is a Response instance.\n                // You parse the data into a useable format using `.json()`\n                return response.json();\n            }).then(function(data) {\n                // `data` is the parsed version of the JSON returned from the above endpoint.\n                let carparkDataArray;\n                let timestamp;\n                //console.log(data['items'][0],'data here');  \n                carparkDataArray = data['items'][0]['carpark_data']\n                timestamp = data['items'][0]['timestamp']\n\n                console.log(carparkDataArray)\n                console.log(timestamp,'timestamp')\n                \n                for (let element of carparkDataArray){\n                  \n                    let carparkData = {}\n                    carparkData['number']=element['carpark_number']\n                    carparkData['type']=element['carpark_info'][0]['lot_type']\n                    carparkData['available']=element['carpark_info'][0]['lots_available']\n                    carparkData['total']=element['carpark_info'][0]['total_lots']\n                    carparkData['updated']=element['update_datetime']\n                    a.data.push(carparkData)\n                    //console.log(carparkData,'DATA!!!!!')\n                   \n                }\n                \n                \n            });\n        console.log(a.data)\n      }\n  }\n};\n</script>\n<style>\n.token{\n    \n    word-wrap: break-word\n}\n* {\n  margin-top: 30px;\n  text-align: center;\n  font-size: 20px;\n  font-family: 'Courier New', Courier, monospace;\n}\n</style>"]},"metadata":{},"sourceType":"module"}